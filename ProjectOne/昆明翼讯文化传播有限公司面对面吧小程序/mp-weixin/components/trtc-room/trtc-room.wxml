<view><view class="trtc-room-container"><block wx:if="{{template==='1v1'}}"><view><view data-type="template" data-is="1v1" data-attr="pusher, streamList, debug"><view class="template-1v1"><block wx:for="{{streamList}}" wx:for-item="item" wx:for-index="streamID" wx:key="streamID"><block wx:if="{{item.src&&(item.hasVideo||item.hasAudio)}}"><view class="{{['view-container player-container '+(item.isVisible?'':'none')]}}"><live-player class="player" data-userid="{{item.userID}}" data-streamid="{{item.streamID}}" data-streamtype="{{item.streamType}}" src="{{item.src}}" mode="RTC" autoplay="{{item.autoplay}}" mute-audio="{{item.muteAudio}}" mute-video="{{item.muteVideo}}" orientation="{{item.orientation}}" object-fit="{{item.objectFit}}" background-mute="{{item.enableBackgroundMute}}" min-cache="{{item.minCache}}" max-cache="{{item.maxCache}}" sound-mode="{{item.soundMode}}" enable-recv-message="{{item.enableRecvMessage}}" auto-pause-if-navigate="{{item.autoPauseIfNavigate}}" auto-pause-if-open-native="{{item.autoPauseIfOpenNative}}" debug="{{debug}}" idAttr="{{item.streamID}}" data-event-opts="{{[['statechange',[['playerStateChangeFun',['$event']]]],['fullscreenchange',[['playerFullscreenChangeFun',['$event']]]],['netstatus',[['playerNetStatusFun',['$event']]]],['audiovolumenotify',[['playerAudioVolumeNotifyFun',['$event']]]]]}}" bindstatechange="__e" bindfullscreenchange="__e" bindnetstatus="__e" bindaudiovolumenotify="__e"></live-player></view></block></block><view class="{{['view-container pusher-container '+(pusher.isVisible?'':'none')+' '+($root.g0=='[]'?'fullscreen':'')]}}"><live-pusher class="pusher" url="{{pusher.url}}" mode="{{pusher.mode}}" autopush="{{pusher.autopush}}" enable-camera="{{pusher.enableCamera}}" enable-mic="{{pusher.enableMic}}" enable-agc="{{pusher.enableAgc}}" enable-ans="{{pusher.enableAns}}" enable-ear-monitor="{{pusher.enableEarMonitor}}" auto-focus="{{pusher.enableAutoFocus}}" zoom="{{pusher.enableZoom}}" min-bitrate="{{pusher.minBitrate}}" max-bitrate="{{pusher.maxBitrate}}" video-width="{{pusher.videoWidth}}" video-height="{{pusher.videoHeight}}" beauty="{{pusher.beautyLevel}}" whiteness="{{pusher.whitenessLevel}}" orientation="{{pusher.videoOrientation}}" aspect="{{pusher.videoAspect}}" device-position="{{pusher.frontCamera}}" remote-mirror="{{pusher.enableRemoteMirror}}" local-mirror="{{pusher.localMirror}}" background-mute="{{pusher.enableBackgroundMute}}" audio-quality="{{pusher.audioQuality}}" audio-volume-type="{{pusher.audioVolumeType}}" audio-reverb-type="{{pusher.audioReverbType}}" waiting-image="{{pusher.waitingImage}}" debug="{{debug}}" data-event-opts="{{[['statechange',[['pusherStateChangeHandlerFun',['$event']]]],['netstatus',[['pusherNetStatusHandlerFun',['$event']]]],['error',[['pusherErrorHandlerFun',['$event']]]],['bgmstart',[['pusherBGMStartHandlerFun',['$event']]]],['bgmprogress',[['pusherBGMProgressHandlerFun',['$event']]]],['bgmcomplete',[['pusherBGMCompleteHandlerFun',['$event']]]]]}}" bindstatechange="__e" bindnetstatus="__e" binderror="__e" bindbgmstart="__e" bindbgmprogress="__e" bindbgmcomplete="__e"></live-pusher><block wx:if="{{streamList.length===0}}"><view class="loading"><view class="loading-img"><image class="rotate-img" src="../../static/components/trtc-room/static/loading.png"></image></view><view class="loading-text">等待接听中...</view></view></block></view><view class="handle-btns"><view data-event-opts="{{[['tap',[['toggleAudioFun',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image src="{{pusher.enableMic?'../../static/components/trtc-room/static/audio-true.png':'../../static/components/trtc-room/static/audio-false.png'}}"></image></view><view data-event-opts="{{[['tap',[['switchCamera',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image src="../../static/components/trtc-room/static/switch.png"></image></view><view data-event-opts="{{[['tap',[['toggleSoundModeFun',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image src="{{streamList[0].soundMode==='ear'?'../../static/components/trtc-room/static/phone.png':'../../static/components/trtc-room/static/speaker-true.png'}}"></image></view></view><view class="bottom-btns"><view data-event-opts="{{[['tap',[['hangUpFun',['$event']]]]]}}" class="btn-hangup" bindtap="__e"><image src="../../static/components/trtc-room/static/hangup.png"></image></view></view></view></view></view></block><block wx:if="{{template==='grid'}}"><view><view data-type="template" data-is="grid" data-attr="pusher, streamList, debug, panelName"><view class="{{['template-grid '+(streamList.length<6?'stream-'+streamList.length:'stream-5')]}}"><block wx:if="{{clock}}"><view class="clock">{{clock}}</view></block><view class="student-pos"></view><view class="student-pos" style="position:absolute;z-index:2;"><block wx:if="{{!over}}"><view class="la-square-jelly-box la-2x"><view></view><view></view></view></block><block wx:if="{{!over}}"><view style="margin-top:30rpx;"><text>{{"等待面试者"+(parter?parter.parter_name:'')+"进入，"}}</text><block wx:if="{{!sendNotice}}"><text data-event-opts="{{[['tap',[['setNotice',['$event']]]]]}}" style="color:#b58af1;" bindtap="__e">发送通知</text></block><block wx:else><text style="color:#b58af1;">已通知</text></block></view></block><block wx:else><text>面试已结束，请打分</text></block></view><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="streamID" wx:key="streamID"><block wx:if="{{item.$orig.src&&(item.$orig.hasVideo||item.$orig.hasAudio)}}"><view class="{{['view-container player-container '+(item.$orig.isVisible?'':'none')+(item.g1==3?' student':'')]}}" data-userid="{{item.$orig.userID}}" data-streamtype="{{item.$orig.streamType}}" data-event-opts="{{[['tap',[['doubleTabToggleFullscreenFun',['$event']]]]]}}" bindtap="__e"><live-player class="player" data-userid="{{item.$orig.userID}}" data-streamid="{{item.$orig.streamID}}" data-streamtype="{{item.$orig.streamType}}" src="{{item.$orig.src}}" mode="RTC" autoplay="{{item.$orig.autoplay}}" mute-audio="{{item.$orig.muteAudio}}" mute-video="{{item.$orig.muteVideo}}" orientation="{{item.$orig.orientation}}" object-fit="{{item.$orig.objectFit}}" background-mute="{{item.$orig.enableBackgroundMute}}" min-cache="{{item.$orig.minCache}}" max-cache="{{item.$orig.maxCache}}" sound-mode="{{item.$orig.soundMode}}" enable-recv-message="{{item.$orig.enableRecvMessage}}" auto-pause-if-navigate="{{item.$orig.autoPauseIfNavigate}}" auto-pause-if-open-native="{{item.$orig.autoPauseIfOpenNative}}" debug="{{debug}}" idAttr="{{item.$orig.streamID}}" data-event-opts="{{[['statechange',[['playerStateChangeFun',['$event']]]],['fullscreenchange',[['playerFullscreenChangeFun',['$event']]]],['netstatus',[['playerNetStatusFun',['$event']]]],['audiovolumenotify',[['playerAudioVolumeNotifyFun',['$event']]]]]}}" bindstatechange="__e" bindfullscreenchange="__e" bindnetstatus="__e" bindaudiovolumenotify="__e"></live-player><view class="operation-bar"><view class="tip"><text>{{item.g2==3?'面试者':'评委'}}</text></view></view></view></block></block><view class="{{['view-container pusher-container '+(pusher.isVisible?'':'none')+(userInfo.groupid==3?' student':'')]}}"><live-pusher class="pusher" url="{{pusher.url}}" mode="{{pusher.mode}}" autopush="{{pusher.autopush}}" enable-camera="{{pusher.enableCamera}}" enable-mic="{{pusher.enableMic}}" enable-agc="{{pusher.enableAgc}}" enable-ans="{{pusher.enableAns}}" enable-ear-monitor="{{pusher.enableEarMonitor}}" auto-focus="{{pusher.enableAutoFocus}}" zoom="{{pusher.enableZoom}}" min-bitrate="{{pusher.minBitrate}}" max-bitrate="{{pusher.maxBitrate}}" video-width="{{pusher.videoWidth}}" video-height="{{pusher.videoHeight}}" beauty="{{pusher.beautyLevel}}" whiteness="{{pusher.whitenessLevel}}" orientation="{{pusher.videoOrientation}}" aspect="{{pusher.videoAspect}}" device-position="{{pusher.frontCamera}}" remote-mirror="{{pusher.enableRemoteMirror}}" local-mirror="{{pusher.localMirror}}" background-mute="{{pusher.enableBackgroundMute}}" audio-quality="{{pusher.audioQuality}}" audio-volume-type="{{pusher.audioVolumeType}}" audio-reverb-type="{{pusher.audioReverbType}}" waiting-image="{{pusher.waitingImage}}" debug="{{debug}}" data-event-opts="{{[['statechange',[['pusherStateChangeHandlerFun',['$event']]]],['netstatus',[['pusherNetStatusHandlerFun',['$event']]]],['error',[['pusherErrorHandlerFun',['$event']]]],['bgmstart',[['pusherBGMStartHandlerFun',['$event']]]],['bgmprogress',[['pusherBGMProgressHandlerFun',['$event']]]],['bgmcomplete',[['pusherBGMCompleteHandlerFun',['$event']]]]]}}" bindstatechange="__e" bindnetstatus="__e" binderror="__e" bindbgmstart="__e" bindbgmprogress="__e" bindbgmcomplete="__e"></live-pusher><view class="operation-bar"><view class="tip"><text>{{userInfo.groupid==3?'面试者':'评委'}}</text></view><view class="bar"><view data-event-opts="{{[['tap',[['queryParterExams',['$event']]]]]}}" class="btn-normal see-items" bindtap="__e"><text>面试题目</text></view><view data-event-opts="{{[['tap',[['switchSettingPanelFun',['$event']]]]]}}" class="btn-normal see-items" bindtap="__e"><text>设置</text></view><block wx:if="{{userInfo.groupid!=3}}"><view data-event-opts="{{[['tap',[['hangUpFun',['$event']]]]]}}" class="btn-normal btn-hangup" bindtap="__e"><image src="../../static/components/trtc-room/static/hangup.png"></image></view></block></view></view></view><view class="{{['panel memberlist-panel '+(panelName==='memberlist-panel'?'':'none')]}}"><view data-event-opts="{{[['tap',[['handleMaskerClickFun',['$event']]]]]}}" class="close-btn" bindtap="__e">X</view><view class="panel-header">成员列表</view><view class="panel-body"><block wx:if="{{streamList.length===0}}"><view class="panel-tips">暂无成员</view></block><scroll-view class="scroll-container" scroll-y="true"><block wx:for="{{streamList}}" wx:for-item="item" wx:for-index="streamID" wx:key="streamID"><view class="member-item"><view class="member-id">{{item.userID}}</view><view class="member-btns"><button class="btn" hover-class="btn-hover" data-userid="{{item.userID}}" data-streamtype="{{item.streamType}}" data-key="objectFit" data-value="fillCrop|contain" data-event-opts="{{[['tap',[['setPlayerPropertyFun',['$event']]]]]}}" bindtap="__e">{{''+(item.objectFit==='fillCrop'?'填充':'适应')+''}}</button><button class="btn" hover-class="btn-hover" data-userid="{{item.userID}}" data-streamtype="{{item.streamType}}" data-key="orientation" data-value="vertical|horizontal" data-event-opts="{{[['tap',[['setPlayerPropertyFun',['$event']]]]]}}" bindtap="__e">{{''+(item.orientation==='vertical'?'竖屏':'横屏')+''}}</button><block wx:if="{{item.streamType==='main'}}"><button class="btn" hover-class="btn-hover" data-userid="{{item.userID}}" data-streamtype="{{item.streamType}}" data-event-opts="{{[['tap',[['switchStreamTypeFun',['$event']]]]]}}" bindtap="__e">{{''+(item._definitionType==='small'?'小画面':'主画面')+''}}</button></block><button class="btn" hover-class="btn-hover" data-userid="{{item.userID}}" data-streamtype="{{item.streamType}}" data-event-opts="{{[['tap',[['handleSnapshotClickFun',['$event']]]]]}}" bindtap="__e">截屏</button></view></view></block></scroll-view></view></view><view class="{{['panel setting-panel '+(panelName==='setting-panel'?'':'none')]}}"><view data-event-opts="{{[['tap',[['handleMaskerClickFun',['$event']]]]]}}" class="close-btn" bindtap="__e">X</view><view class="panel-header">视频设置</view><view class="panel-body"><scroll-view class="scroll-container" scroll-y="true"><view class="setting-option"><view class="label">启用摄像头</view><view data-event-opts="{{[['tap',[['toggleVideoFun',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image src="{{pusher.enableCamera?'../../static/components/trtc-room/static/camera-true.png':'../../static/components/trtc-room/static/camera-false.png'}}"></image></view></view><view class="setting-option"><view class="label">启用麦克风</view><view data-event-opts="{{[['tap',[['toggleAudioFun',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image src="{{pusher.enableMic?'../../static/components/trtc-room/static/audio-true.png':'../../static/components/trtc-room/static/audio-false.png'}}"></image></view></view><view class="setting-option"><view class="label">切换摄像头</view><view data-event-opts="{{[['tap',[['switchCamera',['$event']]]]]}}" class="btn-normal" bindtap="__e"><image src="../../static/components/trtc-room/static/switch.png"></image></view></view><view class="setting-option"><view class="label">开启美颜</view><switch color="#006eff" checked="{{pusher.beautyLevel==9?true:false}}" data-key="beautyLevel" data-value="9|0" data-event-opts="{{[['change',[['setPuserPropertyFun',['$event']]]]]}}" bindchange="__e"></switch></view></scroll-view></view></view><view data-event-opts="{{[['tap',[['handleMaskerClickFun',['$event']]]]]}}" class="{{['masker '+(panelName==''?'none':'')]}}" bindtap="__e"></view></view></view></view></block><block wx:if="{{template==='custom'}}"><view><view data-type="template" data-is="custom" data-attr="pusher, streamList, debug"><view class="template-custom"><view class="players-container"><block wx:for="{{streamList}}" wx:for-item="item" wx:for-index="streamID" wx:key="streamID"><block wx:if="{{item.src&&(item.hasVideo||item.hasAudio)}}"><view class="{{['view-container player-container '+(item.isVisible?'':'none')]}}" style="{{('left:'+item.xAxis+'top:'+item.yAxis+'width:'+item.width+'height:'+item.height+'zindex:'+item.zindex+'')}}"><live-player class="player" data-userid="{{item.userID}}" data-streamid="{{item.streamID}}" data-streamtype="{{item.streamType}}" src="{{item.src}}" mode="{{item.mode}}" autoplay="{{item.autoplay}}" mute-audio="{{item.muteAudio}}" mute-video="{{item.muteVideo}}" orientation="{{item.orientation}}" object-fit="{{item.objectFit}}" background-mute="{{item.enableBackgroundMute}}" min-cache="{{item.minCache}}" max-cache="{{item.maxCache}}" sound-mode="{{item.soundMode}}" enable-recv-message="{{item.enableRecvMessage}}" auto-pause-if-navigate="{{item.autoPauseIfNavigate}}" auto-pause-if-open-native="{{item.autoPauseIfOpenNative}}" debug="{{debug}}" idAttr="{{item.streamID}}" data-event-opts="{{[['statechange',[['playerStateChangeFun',['$event']]]],['fullscreenchange',[['playerFullscreenChangeFun',['$event']]]],['netstatus',[['playerNetStatusFun',['$event']]]],['audiovolumenotify',[['playerAudioVolumeNotifyFun',['$event']]]]]}}" bindstatechange="__e" bindfullscreenchange="__e" bindnetstatus="__e" bindaudiovolumenotify="__e"></live-player></view></block></block></view><view class="{{['view-container pusher-container '+(pusher.isVisible?'':'none')]}}" style="{{('left:'+pusher.xAxis+'top:'+pusher.yAxis+'width:'+pusher.width+'height:'+pusher.height+'zindex:'+pusher.zindex+'')}}"><live-pusher class="pusher" url="{{pusher.url}}" mode="{{pusher.mode}}" autopush="{{pusher.autopush}}" enable-camera="{{pusher.enableCamera}}" enable-mic="{{pusher.enableMic}}" enable-agc="{{pusher.enableAgc}}" enable-ans="{{pusher.enableAns}}" enable-ear-monitor="{{pusher.enableEarMonitor}}" auto-focus="{{pusher.enableAutoFocus}}" zoom="{{pusher.enableZoom}}" min-bitrate="{{pusher.minBitrate}}" max-bitrate="{{pusher.maxBitrate}}" video-width="{{pusher.videoWidth}}" video-height="{{pusher.videoHeight}}" beauty="{{pusher.beautyLevel}}" whiteness="{{pusher.whitenessLevel}}" orientation="{{pusher.videoOrientation}}" aspect="{{pusher.videoAspect}}" device-position="{{pusher.frontCamera}}" remote-mirror="{{pusher.enableRemoteMirror}}" local-mirror="{{pusher.localMirror}}" background-mute="{{pusher.enableBackgroundMute}}" audio-quality="{{pusher.audioQuality}}" audio-volume-type="{{pusher.audioVolumeType}}" audio-reverb-type="{{pusher.audioReverbType}}" waiting-image="{{pusher.waitingImage}}" debug="{{debug}}" data-event-opts="{{[['statechange',[['pusherStateChangeHandlerFun',['$event']]]],['netstatus',[['pusherNetStatusHandlerFun',['$event']]]],['error',[['pusherErrorHandlerFun',['$event']]]],['bgmstart',[['pusherBGMStartHandlerFun',['$event']]]],['bgmprogress',[['pusherBGMProgressHandlerFun',['$event']]]],['bgmcomplete',[['pusherBGMCompleteHandlerFun',['$event']]]]]}}" bindstatechange="__e" bindnetstatus="__e" binderror="__e" bindbgmstart="__e" bindbgmprogress="__e" bindbgmcomplete="__e"></live-pusher></view></view></view></view></block><view class="{{['debug-info-btn '+(debugMode&&!debugPanel?'':'none')]}}"><button hover-class="button-hover" data-event-opts="{{[['tap',[['debugTogglePanelFun',['$event']]]]]}}" bindtap="__e">Debug</button></view><view class="{{['debug-info '+(debugMode&&debugPanel?'':'none')]}}"><view data-event-opts="{{[['tap',[['debugTogglePanelFun',['$event']]]]]}}" class="close-btn" bindtap="__e">X</view><view>{{"appVersion: "+appVersion}}</view><view>{{"libVersion: "+libVersion}}</view><view>{{"template: "+template}}</view><view>debug:<button class="{{[debug?'':'false']}}" hover-class="button-hover" data-event-opts="{{[['tap',[['debugToggleVideoDebugFun',['$event']]]]]}}" bindtap="__e">{{debug}}</button></view><view>{{"userID: "+pusher.userID}}</view><view>{{"roomID: "+pusher.roomID}}</view><view>camera:<button class="{{[pusher.enableCamera?'':'false']}}" hover-class="button-hover" data-event-opts="{{[['tap',[['toggleVideoFun',['$event']]]]]}}" bindtap="__e">{{pusher.enableCamera}}</button></view><view>mic:<button class="{{[pusher.enableMic?'':'false']}}" hover-class="button-hover" data-event-opts="{{[['tap',[['toggleAudioFun',['$event']]]]]}}" bindtap="__e">{{pusher.enableMic}}</button></view><view>switch camera:<button hover-class="button-hover" data-event-opts="{{[['tap',[['switchCamera',['$event']]]]]}}" bindtap="__e">{{cameraPosition||pusher.frontCamera}}</button></view><view>Room:<button hover-class="button-hover" data-event-opts="{{[['tap',[['debugEnterRoomFun',['$event']]]]]}}" bindtap="__e">Enter</button><button hover-class="button-hover" data-event-opts="{{[['tap',[['debugExitRoomFun',['$event']]]]]}}" bindtap="__e">Exit</button><button hover-class="button-hover" data-event-opts="{{[['tap',[['debugGoBackFun',['$event']]]]]}}" bindtap="__e">Go back</button></view><view>{{"user count: "+userList.length}}</view><block wx:for="{{userList}}" wx:for-item="item" wx:for-index="userID" wx:key="userID"><view>{{''+item.userID+"|mainV:"+(item.hasMainVideo||false)+"|mainA:"+(item.hasMainAudio||false)+"|auxV:"+(item.hasAuxVideo||false)+''}}</view></block><view>{{"stream count: "+streamList.length}}</view><block wx:for="{{streamList}}" wx:for-item="item" wx:for-index="streamID" wx:key="streamID"><view>{{''+item.userID+"|"+item.streamType+'| SubV:'}}<button class="{{[!item.muteVideo?'':'false']}}" hover-class="button-hover" data-user-i-d="{{item.userID}}" data-stream-type="{{item.streamType}}" data-event-opts="{{[['tap',[['debugToggleRemoteVideoFun',['$event']]]]]}}" bindtap="__e">{{''+!item.muteVideo+''}}</button>| SubA:<button class="{{[!item.muteAudio?'':'false']}}" hover-class="button-hover" data-user-i-d="{{item.userID}}" data-stream-type="{{item.streamType}}" data-event-opts="{{[['tap',[['debugToggleRemoteAudioFun',['$event']]]]]}}" bindtap="__e">{{''+!item.muteAudio+''}}</button></view></block></view></view><toast vue-id="08c0058a-1" bind:__l="__l"></toast></view>